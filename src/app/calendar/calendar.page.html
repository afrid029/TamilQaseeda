<html class = "addBody">
  <div class="tool">
    <img class="img" alt="">
  </div>

  <ion-content class="body">
    <ng-container *ngIf="spinner">
<div style="position:fixed;transform: scale(2); display: flex; width:100%; height:100%; justify-content: space-around; align-items: center; z-index:10;
    opacity: 0.7;">
        <ion-spinner name="lines-small" [paused]="false" color="warning"></ion-spinner>
      </div>
    </ng-container>

    <div class="lst">
      <div class="lstcont">
        <div class="cont">
          <div>
            <!-- Move back one screen of the slides -->


            <ion-col class="ion-text-center">
              <h2>{{ viewTitle }}</h2>
            </ion-col>

            <!-- Move forward one screen of the slides -->

          </div>
          <calendar #cal
            [eventSource]="eventSource"
            [calendarMode]="calendar.mode"
            [currentDate]="calendar.currentDate"
            (onEventSelected)="onEventSelected($event)"
            (onTitleChanged)="onViewTitleChanged($event)"
            (onCurrentDateChanged)="onCurrentDateChanged($event)"

            >
          </calendar>


        </div>
      </div>
    </div>


    <ion-fab class="listbtn" vertical="bottom" horizontal="end" slot="fixed" >
      <ion-button (click) = "setmodel(true)" color="favorite"  shape="round"><ion-icon name="qr-code-outline"></ion-icon>&nbsp; &nbsp; List View</ion-button>
    </ion-fab>



    <ion-modal  backdropDismiss="false" mode="md" [isOpen]="isModalOpen">


      <ng-template>
        <ng-container *ngIf="spinner1">
<div style="position:fixed; display: flex; width:100%; height:100%; justify-content: space-around; align-items: center; z-index:4;
    opacity: 0.7;">
            <ion-spinner name="lines-small" [paused]="false" color="warning"></ion-spinner>
          </div>
        </ng-container>

        <ion-toolbar color="success">
          <ion-title style="font-size: 14px">இஸ்லாமிய நிகழ்வுகள்</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="setmodel(false)" >Close</ion-button>
          </ion-buttons>
        </ion-toolbar>



        <ion-content class="modalBody">


          <ng-container *ngIf="obj">
            <div class="Xbutton">
              <ion-button (click)="refresh(false)" color="tertiary" class="left">
                <ion-icon name="play-back-circle-outline"></ion-icon> &nbsp;&nbsp;
                Previous Year
              </ion-button>
              <ion-button (click)="refresh(true)" class = "right" color = "favorite">
                Next Year
                &nbsp;&nbsp;<ion-icon name="play-forward-circle-outline"></ion-icon>
              </ion-button>
            </div>
          </ng-container>

          <ion-list  lines="inset">
            <h5>January</h5>
            <ng-container *ngIf="jan.length > 0">
              <div class="month">
                <ng-container *ngFor="let d of jan">
                  <ion-item>
                    <div class="date">
                      {{d.day}}
                    </div>
                    <div class="detail">
                      <ion-label class = "label">{{d.content}} - {{d.year}}
                        <br>
                          <ng-container *ngIf="d.isl">
<div style="display: flex;
                    justify-items: center;
                    align-content: center;
                    flex-wrap: wrap;
                    margin-top: 9px;">
                              <ion-icon size="small" style="color: rgb(147, 147, 151);" name="moon-sharp"></ion-icon>
                              <span style="font-size: 12px; color: rgb(147, 147, 151); font-style: italic;">&nbsp;&nbsp; {{d.isl}}</span>
                            </div>
                          </ng-container>
                          <!--
                          <small><ion-icon style="display: inline-block; vertical-align: middle;" name="ellipsis-vertical-circle-outline"></ion-icon><span style="display: inline-block; vertical-align: middle;">&nbsp;&nbsp; {{d.isl}}</span></small> -->
                        </ion-label>
                      </div>
                      <ng-container *ngIf="obj">
                        <div   style="display: flex;">
                          <div (click)="updateClick(d)"  class="edit">
                            <ion-icon class="icon" name="pencil"></ion-icon>
                          </div>
                          <div (click)="deleteClick(d)" class="edit del">
                            <ion-icon class="icon" name="trash"></ion-icon>
                          </div>
                        </div>
                      </ng-container>
                    </ion-item>
                  </ng-container>
                </div>
              </ng-container>
              <ng-container *ngIf="jan.length === 0">
                <div style="width: 100%;">
                  <ion-item>
                    <ion-label style="text-align: center; opacity: 0.5;">No events available</ion-label>
                  </ion-item>
                </div>
              </ng-container>

            </ion-list>
            <ion-list lines="inset">
              <h5>February</h5>
              <ng-container *ngIf="feb.length > 0">
                <div class="month">
                  <ng-container *ngFor="let d of feb">
                    <ion-item>
                      <div class="date">
                        {{d.day}}
                      </div>
                      <div class="detail">
                        <ion-label class = "label">{{d.content}} - {{d.year}}
                          <br>
                            <ng-container *ngIf="d.isl">
<div style="display: flex;
                    justify-items: center;
                    align-content: center;
                    flex-wrap: wrap;
                    margin-top: 9px;">
                                <ion-icon size="small" style="color: rgb(147, 147, 151);" name="moon-sharp"></ion-icon>
                                <span style="font-size: 12px; color: rgb(147, 147, 151); font-style: italic;">&nbsp;&nbsp; {{d.isl}}</span>
                              </div>
                            </ng-container>
                          </ion-label>
                        </div>
                        <ng-container *ngIf="obj">
                          <div   style="display: flex;">
                            <div (click)="updateClick(d)"  class="edit">
                              <ion-icon class="icon" name="pencil"></ion-icon>
                            </div>
                            <div (click)="deleteClick(d)" class="edit del">
                              <ion-icon class="icon" name="trash"></ion-icon>
                            </div>
                          </div>
                        </ng-container>
                      </ion-item>
                    </ng-container>
                  </div>
                </ng-container>
                <ng-container *ngIf="feb.length === 0">
                  <div style="width: 100%;">
                    <ion-item>
                      <ion-label style="text-align: center; opacity: 0.5;">No events available</ion-label>
                    </ion-item>
                  </div>
                </ng-container>
              </ion-list>

              <ion-list lines="inset">
                <h5>March</h5>
                <ng-container *ngIf="mar.length > 0">
                  <div class="month">
                    <ng-container *ngFor="let d of mar">
                      <ion-item>
                        <div class="date">
                          {{d.day}}
                        </div>
                        <div class="detail">
                          <ion-label class = "label">{{d.content}} - {{d.year}}
                            <br>
                              <ng-container *ngIf="d.isl">
<div style="display: flex;
                    justify-items: center;
                    align-content: center;
                    flex-wrap: wrap;
                    margin-top: 9px;">
                                  <ion-icon size="small" style="color: rgb(147, 147, 151);" name="moon-sharp"></ion-icon>
                                  <span style="font-size: 12px; color: rgb(147, 147, 151); font-style: italic;">&nbsp;&nbsp; {{d.isl}}</span>
                                </div>
                              </ng-container>
                            </ion-label>
                          </div>
                          <ng-container *ngIf="obj">
                            <div   style="display: flex;">
                              <div (click)="updateClick(d)"  class="edit">
                                <ion-icon class="icon" name="pencil"></ion-icon>
                              </div>
                              <div (click)="deleteClick(d)" class="edit del">
                                <ion-icon class="icon" name="trash"></ion-icon>
                              </div>
                            </div>
                          </ng-container>
                        </ion-item>
                      </ng-container>
                    </div>
                  </ng-container>
                  <ng-container *ngIf="mar.length === 0">
                    <div style="width: 100%;">
                      <ion-item>
                        <ion-label style="text-align: center; opacity: 0.5;">No events available</ion-label>
                      </ion-item>
                    </div>
                  </ng-container>
                </ion-list>

                <ion-list lines="inset">
                  <h5>April</h5>
                  <ng-container *ngIf="apr.length > 0">
                    <div class="month">
                      <ng-container *ngFor="let d of apr">
                        <ion-item>
                          <div class="date">
                            {{d.day}}
                          </div>
                          <div class="detail">
                            <ion-label class = "label">{{d.content}} - {{d.year}}
                              <br>
                                <ng-container *ngIf="d.isl">
<div style="display: flex;
                    justify-items: center;
                    align-content: center;
                    flex-wrap: wrap;
                    margin-top: 9px;">
                                    <ion-icon size="small" style="color: rgb(147, 147, 151);" name="moon-sharp"></ion-icon>
                                    <span style="font-size: 12px; color: rgb(147, 147, 151); font-style: italic;">&nbsp;&nbsp; {{d.isl}}</span>
                                  </div>
                                </ng-container>
                              </ion-label>
                            </div>
                            <ng-container *ngIf="obj">
                              <div   style="display: flex;">
                                <div (click)="updateClick(d)"  class="edit">
                                  <ion-icon class="icon" name="pencil"></ion-icon>
                                </div>
                                <div (click)="deleteClick(d)" class="edit del">
                                  <ion-icon class="icon" name="trash"></ion-icon>
                                </div>
                              </div>
                            </ng-container>
                          </ion-item>
                        </ng-container>
                      </div>
                    </ng-container>
                    <ng-container *ngIf="apr.length === 0">
                      <div style="width: 100%;">
                        <ion-item>
                          <ion-label style="text-align: center; opacity: 0.5;">No events available</ion-label>
                        </ion-item>
                      </div>
                    </ng-container>
                  </ion-list>

                  <ion-list lines="inset">
                    <h5>May</h5>
                    <ng-container *ngIf="may.length > 0">
                      <div class="month">
                        <ng-container *ngFor="let d of may">
                          <ion-item>
                            <div class="date">
                              {{d.day}}
                            </div>
                            <div class="detail">
                              <ion-label class = "label">{{d.content}} - {{d.year}}
                                <br>
                                  <ng-container *ngIf="d.isl">
<div style="display: flex;
                    justify-items: center;
                    align-content: center;
                    flex-wrap: wrap;
                    margin-top: 9px;">
                                      <ion-icon size="small" style="color: rgb(147, 147, 151);" name="moon-sharp"></ion-icon>
                                      <span style="font-size: 12px; color: rgb(147, 147, 151); font-style: italic;">&nbsp;&nbsp; {{d.isl}}</span>
                                    </div>
                                  </ng-container>
                                </ion-label>
                              </div>
                              <ng-container *ngIf="obj">
                                <div   style="display: flex;">
                                  <div (click)="updateClick(d)"  class="edit">
                                    <ion-icon class="icon" name="pencil"></ion-icon>
                                  </div>
                                  <div (click)="deleteClick(d)" class="edit del">
                                    <ion-icon class="icon" name="trash"></ion-icon>
                                  </div>
                                </div>
                              </ng-container>
                            </ion-item>
                          </ng-container>
                        </div>
                      </ng-container>
                      <ng-container *ngIf="may.length === 0">
                        <div style="width: 100%;">
                          <ion-item>
                            <ion-label style="text-align: center; opacity: 0.5;">No events available</ion-label>
                          </ion-item>
                        </div>
                      </ng-container>
                    </ion-list>

                    <ion-list  lines="inset">
                      <h5>June</h5>
                      <ng-container *ngIf="jun.length > 0">
                        <div class="month">
                          <ng-container *ngFor="let d of jun">
                            <ion-item>
                              <div class="date">
                                {{d.day}}
                              </div>
                              <div class="detail">
                                <ion-label class = "label">{{d.content}} - {{d.year}}
                                  <br>
                                    <ng-container *ngIf="d.isl">
<div style="display: flex;
                    justify-items: center;
                    align-content: center;
                    flex-wrap: wrap;
                    margin-top: 9px;">
                                        <ion-icon size="small" style="color: rgb(147, 147, 151);" name="moon-sharp"></ion-icon>
                                        <span style="font-size: 12px; color: rgb(147, 147, 151); font-style: italic;">&nbsp;&nbsp; {{d.isl}}</span>
                                      </div>
                                    </ng-container>
                                  </ion-label>
                                </div>
                                <ng-container *ngIf="obj">
                                  <div   style="display: flex;">
                                    <div (click)="updateClick(d)"  class="edit">
                                      <ion-icon class="icon" name="pencil"></ion-icon>
                                    </div>
                                    <div (click)="deleteClick(d)" class="edit del">
                                      <ion-icon class="icon" name="trash"></ion-icon>
                                    </div>
                                  </div>
                                </ng-container>
                              </ion-item>
                            </ng-container>
                          </div>
                        </ng-container>
                        <ng-container *ngIf="jun.length === 0">
                          <div style="width: 100%;">
                            <ion-item>
                              <ion-label style="text-align: center; opacity: 0.5;">No events available</ion-label>
                            </ion-item>
                          </div>
                        </ng-container>
                      </ion-list>

                      <ion-list lines="inset">
                        <h5>July</h5>
                        <ng-container *ngIf="jul.length > 0">
                          <div class="month">
                            <ng-container *ngFor="let d of jul">
                              <ion-item>
                                <div class="date">
                                  {{d.day}}
                                </div>
                                <div class="detail">
                                  <ion-label class = "label">{{d.content}} - {{d.year}}
                                    <br>
                                      <ng-container *ngIf="d.isl">
<div style="display: flex;
                    justify-items: center;
                    align-content: center;
                    flex-wrap: wrap;
                    margin-top: 9px;">
                                          <ion-icon size="small" style="color: rgb(147, 147, 151);" name="moon-sharp"></ion-icon>
                                          <span style="font-size: 12px; color: rgb(147, 147, 151); font-style: italic;">&nbsp;&nbsp; {{d.isl}}</span>
                                        </div>
                                      </ng-container>
                                    </ion-label>
                                  </div>
                                  <ng-container *ngIf="obj">
                                    <div   style="display: flex;">
                                      <div (click)="updateClick(d)"  class="edit">
                                        <ion-icon class="icon" name="pencil"></ion-icon>
                                      </div>
                                      <div (click)="deleteClick(d)" class="edit del">
                                        <ion-icon class="icon" name="trash"></ion-icon>
                                      </div>
                                    </div>
                                  </ng-container>
                                </ion-item>
                              </ng-container>
                            </div>
                          </ng-container>
                          <ng-container *ngIf="jul.length === 0">
                            <div style="width: 100%;">
                              <ion-item>
                                <ion-label style="text-align: center; opacity: 0.5;">No events available</ion-label>
                              </ion-item>
                            </div>
                          </ng-container>
                        </ion-list>

                        <ion-list lines="inset">
                          <h5>August</h5>
                          <ng-container *ngIf="aug.length > 0">
                            <div class="month">
                              <ng-container *ngFor="let d of aug">
                                <ion-item>
                                  <div class="date">
                                    {{d.day}}
                                  </div>
                                  <div class="detail">
                                    <ion-label class = "label">{{d.content}} - {{d.year}}
                                      <br>
                                        <ng-container *ngIf="d.isl">
<div style="display: flex;
                    justify-items: center;
                    align-content: center;
                    flex-wrap: wrap;
                    margin-top: 9px;">
                                            <ion-icon size="small" style="color: rgb(147, 147, 151);" name="moon-sharp"></ion-icon>
                                            <span style="font-size: 12px; color: rgb(147, 147, 151); font-style: italic;">&nbsp;&nbsp; {{d.isl}}</span>
                                          </div>
                                        </ng-container>
                                      </ion-label>
                                    </div>
                                    <ng-container *ngIf="obj">
                                      <div   style="display: flex;">
                                        <div (click)="updateClick(d)"  class="edit">
                                          <ion-icon class="icon" name="pencil"></ion-icon>
                                        </div>
                                        <div (click)="deleteClick(d)" class="edit del">
                                          <ion-icon class="icon" name="trash"></ion-icon>
                                        </div>
                                      </div>
                                    </ng-container>
                                  </ion-item>
                                </ng-container>
                              </div>
                            </ng-container>
                            <ng-container *ngIf="aug.length === 0">
                              <div style="width: 100%;">
                                <ion-item>
                                  <ion-label style="text-align: center; opacity: 0.5;">No events available</ion-label>
                                </ion-item>
                              </div>
                            </ng-container>
                          </ion-list>

                          <ion-list lines="inset">
                            <h5>September</h5>
                            <ng-container *ngIf="sep.length > 0">
                              <div class="month">
                                <ng-container *ngFor="let d of sep">
                                  <ion-item>
                                    <div class="date">
                                      {{d.day}}
                                    </div>
                                    <div class="detail">
                                      <ion-label class = "label">{{d.content}} - {{d.year}}
                                        <br>
                                          <ng-container *ngIf="d.isl">
<div style="display: flex;
                    justify-items: center;
                    align-content: center;
                    flex-wrap: wrap;
                    margin-top: 9px;">
                                              <ion-icon size="small" style="color: rgb(147, 147, 151);" name="moon-sharp"></ion-icon>
                                              <span style="font-size: 12px; color: rgb(147, 147, 151); font-style: italic;">&nbsp;&nbsp; {{d.isl}}</span>
                                            </div>
                                          </ng-container>
                                        </ion-label>
                                      </div>
                                      <ng-container *ngIf="obj">
                                        <div   style="display: flex;">
                                          <div (click)="updateClick(d)"  class="edit">
                                            <ion-icon class="icon" name="pencil"></ion-icon>
                                          </div>
                                          <div (click)="deleteClick(d)" class="edit del">
                                            <ion-icon class="icon" name="trash"></ion-icon>
                                          </div>
                                        </div>
                                      </ng-container>
                                    </ion-item>
                                  </ng-container>
                                </div>
                              </ng-container>
                              <ng-container *ngIf="sep.length === 0">
                                <div style="width: 100%;">
                                  <ion-item>
                                    <ion-label style="text-align: center; opacity: 0.5;">No events available</ion-label>
                                  </ion-item>
                                </div>
                              </ng-container>
                            </ion-list>

                            <ion-list lines="inset">
                              <h5>October</h5>
                              <ng-container *ngIf="oct.length > 0">
                                <div class="month">
                                  <ng-container *ngFor="let d of oct">
                                    <ion-item>
                                      <div class="date">
                                        {{d.day}}
                                      </div>
                                      <div class="detail">
                                        <ion-label class = "label">{{d.content}} - {{d.year}}
                                          <br>
                                            <ng-container *ngIf="d.isl">
<div style="display: flex;
                    justify-items: center;
                    align-content: center;
                    flex-wrap: wrap;
                    margin-top: 9px;">
                                                <ion-icon size="small" style="color: rgb(147, 147, 151);" name="moon-sharp"></ion-icon>
                                                <span style="font-size: 12px; color: rgb(147, 147, 151); font-style: italic;">&nbsp;&nbsp; {{d.isl}}</span>
                                              </div>
                                            </ng-container>
                                          </ion-label>
                                        </div>
                                        <ng-container *ngIf="obj">
                                          <div   style="display: flex;">
                                            <div (click)="updateClick(d)"  class="edit">
                                              <ion-icon class="icon" name="pencil"></ion-icon>
                                            </div>
                                            <div (click)="deleteClick(d)" class="edit del">
                                              <ion-icon class="icon" name="trash"></ion-icon>
                                            </div>
                                          </div>
                                        </ng-container>
                                      </ion-item>
                                    </ng-container>
                                  </div>
                                </ng-container>
                                <ng-container *ngIf="oct.length === 0">
                                  <div style="width: 100%;">
                                    <ion-item>
                                      <ion-label style="text-align: center; opacity: 0.5;">No events available</ion-label>
                                    </ion-item>
                                  </div>
                                </ng-container>
                              </ion-list>

                              <ion-list lines="inset">
                                <h5>November</h5>
                                <ng-container *ngIf="nov.length > 0">
                                  <div class="month">
                                    <ng-container *ngFor="let d of nov">
                                      <ion-item>
                                        <div class="date">
                                          {{d.day}}
                                        </div>
                                        <div class="detail">
                                          <ion-label class = "label">{{d.content}} - {{d.year}}
                                            <br>
                                              <ng-container *ngIf="d.isl">
<div style="display: flex;
                    justify-items: center;
                    align-content: center;
                    flex-wrap: wrap;
                    margin-top: 9px;">
                                                  <ion-icon size="small" style="color: rgb(147, 147, 151);" name="moon-sharp"></ion-icon>
                                                  <span style="font-size: 12px; color: rgb(147, 147, 151); font-style: italic;">&nbsp;&nbsp; {{d.isl}}</span>
                                                </div>
                                              </ng-container>
                                            </ion-label>
                                          </div>
                                          <ng-container *ngIf="obj">
                                            <div   style="display: flex;">
                                              <div (click)="updateClick(d)"  class="edit">
                                                <ion-icon class="icon" name="pencil"></ion-icon>
                                              </div>
                                              <div (click)="deleteClick(d)" class="edit del">
                                                <ion-icon class="icon" name="trash"></ion-icon>
                                              </div>
                                            </div>
                                          </ng-container>
                                        </ion-item>
                                      </ng-container>
                                    </div>
                                  </ng-container>
                                  <ng-container *ngIf="nov.length === 0">
                                    <div style="width: 100%;">
                                      <ion-item>
                                        <ion-label style="text-align: center; opacity: 0.5;">No events available</ion-label>
                                      </ion-item>
                                    </div>
                                  </ng-container>
                                </ion-list>

                                <ion-list lines="inset">
                                  <h5 >December</h5>
                                  <ng-container *ngIf="dec.length > 0">
                                    <div class="month">
                                      <ng-container *ngFor="let d of dec">
                                        <ion-item>
                                          <div class="date">
                                            {{d.day}}
                                          </div>
                                          <div class="detail">
                                            <ion-label class = "label">{{d.content}} - {{d.year}}</ion-label>
                                            <br>
                                              <ng-container *ngIf="d.isl">
<div style="display: flex;
                    justify-items: center;
                    align-content: center;
                    flex-wrap: wrap;
                    margin-top: 9px;">
                                                  <ion-icon size="small" style="color: rgb(147, 147, 151);" name="moon-sharp"></ion-icon>
                                                  <span style="font-size: 12px; color: rgb(147, 147, 151); font-style: italic;">&nbsp;&nbsp; {{d.isl}}</span>
                                                </div>
                                              </ng-container>
                                            </div>
                                            <ng-container *ngIf="obj">
                                              <div   style="display: flex;">
                                                <div (click)="updateClick(d)"  class="edit">
                                                  <ion-icon class="icon" name="pencil"></ion-icon>
                                                </div>
                                                <div (click)="deleteClick(d)" class="edit del">
                                                  <ion-icon class="icon" name="trash"></ion-icon>
                                                </div>
                                              </div>
                                            </ng-container>
                                          </ion-item>
                                        </ng-container>
                                      </div>
                                    </ng-container>
                                    <ng-container *ngIf="dec.length === 0">
                                      <div style="width: 100%;">
                                        <ion-item>
                                          <ion-label style="text-align: center; opacity: 0.5;">No events available</ion-label>
                                        </ion-item>
                                      </div>
                                    </ng-container>
                                  </ion-list>


                                </ion-content>
                              </ng-template>
                            </ion-modal>

                            <!-- ----------------EditMode*---------------- -->
                            <ion-modal  backdropDismiss="false" mode="md" [isOpen]="isEditModalOpen">
                              <ng-template>

                                <ion-toolbar color="warning">
                                  <ion-title style="font-size: 14px">Update Event</ion-title>
                                  <ion-buttons slot="end">
                                    <ion-button (click)="seteditmodel(false)" >Close</ion-button>
                                  </ion-buttons>
                                </ion-toolbar>

                                <ion-content class=" modalBody">
                                  <form #addForm="ngForm" validate>
                                    <ion-item lines="full">
                                      <ion-label position="floating">திகதி</ion-label>
                                      <ion-input style = " color: black" id="ddd" [(ngModel)]="editEvent.date" name="date" type="date" required></ion-input>
                                    </ion-item>

                                    <ion-item lines="full">
                                      <ion-label position="floating">இஸ்லாமிய திகதி</ion-label>
                                      <ion-input style="color: black"  [(ngModel)]="editEvent.isl" name="isl" type="text" ></ion-input>
                                    </ion-item>

                                    <ion-item lines="full">
                                      <ion-label position="floating">விபரம்</ion-label>
                                      <ion-textarea style="color: black" [(ngModel)]="editEvent.content"  [autoGrow]="true" name="content"required></ion-textarea>
                                    </ion-item>
                                    <div class="cont">
                                      <ion-button (click)="update()" color="success" type="submit" [disabled]="addForm.invalid" style="display: flex;"  class = "btn">Update</ion-button>
                                    </div>
                                  </form>

                                </ion-content>
                              </ng-template>
                            </ion-modal>


                          </ion-content>




                        </html>
