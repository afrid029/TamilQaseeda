<div class="tool">
  <img class="img" alt="">
</div>

<ion-content class="body">
  <div *ngIf="spinner" style="position:fixed;transform: scale(2); display: flex; width:100%; height:100%; justify-content: space-around; align-items: center; z-index:4;
  opacity: 0.7;">
    <ion-spinner name="lines-small" [paused]="false" color="warning"></ion-spinner>
   </div>

   <div class="lst">
    <div class="lstcont">
      <div class="cont">
        <ion-row>
          <!-- Move back one screen of the slides -->


          <ion-col class="ion-text-center">
            <h2>{{ viewTitle }}</h2>
          </ion-col>

          <!-- Move forward one screen of the slides -->

        </ion-row>
        <calendar #cal
          [eventSource]="eventSource"
          [calendarMode]="calendar.mode"
          [currentDate]="calendar.currentDate"
          (onEventSelected)="onEventSelected($event)"
          (onTitleChanged)="onViewTitleChanged($event)"
          (onCurrentDateChanged)="onCurrentDateChanged($event)"

        >
        </calendar>


      </div>
    </div>
   </div>


  <ion-fab  vertical="bottom" horizontal="end" slot="fixed" >
    <ion-button (click) = "setmodel(true)" class="listbtn" shape="round"><ion-icon name="qr-code-outline"></ion-icon>&nbsp; &nbsp; List View</ion-button>
  </ion-fab>

  <ion-modal  backdropDismiss="false" mode="md" [isOpen]="isModalOpen">
    <ng-template>

        <ion-toolbar color="success">
          <ion-title style="font-size: 14px">இஸ்லாமிய நிகழ்வுகள்</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="setmodel(false)" >Close</ion-button>
          </ion-buttons>
        </ion-toolbar>

      <ion-content class=" modalBody">

        <ion-list style="padding-left: 15px;" lines="inset">
          <h5>January</h5>
          <div *ngIf="jan.length > 0">
            <ion-item *ngFor="let d of jan">
              <div class="date">
                {{d.day}}
              </div>
              <div class="detail">
                <ion-label class = "label">{{d.content}} - {{d.year}}
                  <br>
                  <span *ngIf="d.isl"><small><ion-icon style="margin-top: 7px;" name="ellipsis-vertical-circle-outline"></ion-icon>&nbsp;&nbsp; {{d.isl}}</small></span>
                </ion-label>

              </div>

                <div (click)="updateClick(d)" *ngIf="obj"  class="edit">
                  <ion-icon class="icon" name="pencil"></ion-icon>
                </div>
                <div (click)="deleteClick(d)" *ngIf="obj" class="edit del">
                  <ion-icon class="icon" name="trash"></ion-icon>
                </div>
            </ion-item>
          </div>
          <div style="width: 100%;" *ngIf="jan.length === 0">
            <ion-item>
              <ion-label style="text-align: center; opacity: 0.5;">No events available</ion-label>
            </ion-item>
          </div>

        </ion-list>
        <ion-list style="padding-left: 15px;" lines="inset">
          <h5>February</h5>
          <div *ngIf="feb.length > 0">
            <ion-item *ngFor="let d of feb">
              <div class="date">
                {{d.day}}
              </div>
              <div class="detail">
                <ion-label>{{d.content}} - {{d.year}}</ion-label>
              </div>

                <div (click)="updateClick(d)" *ngIf="obj"  class="edit">
                  <ion-icon class="icon" name="pencil"></ion-icon>
                </div>
                <div (click)="deleteClick(d)" *ngIf="obj" class="edit del">
                  <ion-icon class="icon" name="trash"></ion-icon>
                </div>


            </ion-item>
          </div>
          <div style="width: 100%;" *ngIf="feb.length === 0">
            <ion-item>
              <ion-label style="text-align: center; opacity: 0.5;">No events available</ion-label>
            </ion-item>
          </div>
        </ion-list>

        <ion-list style="padding-left: 15px;" lines="inset">
          <h5>March</h5>
          <div *ngIf="mar.length > 0">
            <ion-item *ngFor="let d of mar">
              <div class="date">
                {{d.day}}
              </div>
              <div class="detail">
                <ion-label>{{d.content}} - {{d.year}}</ion-label>
              </div>

                <div (click)="updateClick(d)" *ngIf="obj"  class="edit">
                  <ion-icon class="icon" name="pencil"></ion-icon>
                </div>
                <div (click)="deleteClick(d)" *ngIf="obj" class="edit del">
                  <ion-icon class="icon" name="trash"></ion-icon>
                </div>


            </ion-item>
          </div>
          <div style="width: 100%;" *ngIf="mar.length === 0">
            <ion-item>
              <ion-label style="text-align: center; opacity: 0.5;">No events available</ion-label>
            </ion-item>
          </div>
        </ion-list>

        <ion-list style="padding-left: 15px;" lines="inset">
          <h5>April</h5>
          <div *ngIf="apr.length > 0">
            <ion-item *ngFor="let d of apr">
              <div class="date">
                {{d.day}}
              </div>
              <div class="detail">
                <ion-label>{{d.content}} - {{d.year}}</ion-label>
              </div>

                <div (click)="updateClick(d)" *ngIf="obj"  class="edit">
                  <ion-icon class="icon" name="pencil"></ion-icon>
                </div>
                <div (click)="deleteClick(d)" *ngIf="obj" class="edit del">
                  <ion-icon class="icon" name="trash"></ion-icon>
                </div>


            </ion-item>

          </div>
          <div style="width: 100%;" *ngIf="apr.length === 0">
            <ion-item>
              <ion-label style="text-align: center; opacity: 0.5;">No events available</ion-label>
            </ion-item>
          </div>
        </ion-list>

        <ion-list style="padding-left: 15px;" lines="inset">
          <h5>May</h5>
          <div *ngIf="may.length > 0">
            <ion-item *ngFor="let d of may">
              <div class="date">
                {{d.day}}
              </div>
              <div class="detail">
                <ion-label>{{d.content}} - {{d.year}}</ion-label>
              </div>

                <div (click)="updateClick(d)" *ngIf="obj"  class="edit">
                  <ion-icon class="icon" name="pencil"></ion-icon>
                </div>
                <div (click)="deleteClick(d)" *ngIf="obj" class="edit del">
                  <ion-icon class="icon" name="trash"></ion-icon>
                </div>


            </ion-item>
          </div>
          <div style="width: 100%;" *ngIf="may.length === 0">
            <ion-item>
              <ion-label style="text-align: center; opacity: 0.5;">No events available</ion-label>
            </ion-item>
          </div>
        </ion-list>

        <ion-list style="padding-left: 15px;" lines="inset">
          <h5>June</h5>
          <div *ngIf="jun.length > 0">
            <ion-item *ngFor="let d of jun">
              <div class="date">
                {{d.day}}
              </div>
              <div class="detail">
                <ion-label>{{d.content}} - {{d.year}}</ion-label>
              </div>

                <div (click)="updateClick(d)" *ngIf="obj"  class="edit">
                  <ion-icon class="icon" name="pencil"></ion-icon>
                </div>
                <div (click)="deleteClick(d)" *ngIf="obj" class="edit del">
                  <ion-icon class="icon" name="trash"></ion-icon>
                </div>


            </ion-item>
          </div>
          <div style="width: 100%;" *ngIf="jun.length === 0">
            <ion-item>
              <ion-label style="text-align: center; opacity: 0.5;">No events available</ion-label>
            </ion-item>
          </div>
        </ion-list>

        <ion-list style="padding-left: 15px;" lines="inset">
          <h5>July</h5>
          <div *ngIf="jul.length > 0">
            <ion-item *ngFor="let d of jul">
              <div class="date">
                {{d.day}}
              </div>
              <div class="detail">
                <ion-label>{{d.content}} - {{d.year}}</ion-label>
              </div>

                <div (click)="updateClick(d)" *ngIf="obj"  class="edit">
                  <ion-icon class="icon" name="pencil"></ion-icon>
                </div>
                <div (click)="deleteClick(d)" *ngIf="obj" class="edit del">
                  <ion-icon class="icon" name="trash"></ion-icon>
                </div>


            </ion-item>
          </div>
          <div style="width: 100%;" *ngIf="jul.length === 0">
            <ion-item>
              <ion-label style="text-align: center; opacity: 0.5;">No events available</ion-label>
            </ion-item>
          </div>
        </ion-list>

        <ion-list style="padding-left: 15px;" lines="inset">
          <h5>August</h5>
          <div *ngIf="aug.length > 0">
            <ion-item *ngFor="let d of aug">
              <div class="date">
                {{d.day}}
              </div>
              <div class="detail">
                <ion-label>{{d.content}} - {{d.year}}</ion-label>
              </div>

                <div (click)="updateClick(d)" *ngIf="obj"  class="edit">
                  <ion-icon class="icon" name="pencil"></ion-icon>
                </div>
                <div (click)="deleteClick(d)" *ngIf="obj" class="edit del">
                  <ion-icon class="icon" name="trash"></ion-icon>
                </div>


            </ion-item>
          </div>
          <div style="width: 100%;" *ngIf="aug.length === 0">
            <ion-item>
              <ion-label style="text-align: center; opacity: 0.5;">No events available</ion-label>
            </ion-item>
          </div>
        </ion-list>

        <ion-list style="padding-left: 15px;" lines="inset">
          <h5>September</h5>
          <div *ngIf="sep.length > 0">
            <ion-item *ngFor="let d of sep">
              <div class="date">
                {{d.day}}
              </div>
              <div class="detail">
                <ion-label>{{d.content}} - {{d.year}}</ion-label>
              </div>

                <div (click)="updateClick(d)" *ngIf="obj"  class="edit">
                  <ion-icon class="icon" name="pencil"></ion-icon>
                </div>
                <div (click)="deleteClick(d)" *ngIf="obj" class="edit del">
                  <ion-icon class="icon" name="trash"></ion-icon>
                </div>


            </ion-item>
          </div>
          <div style="width: 100%;" *ngIf="sep.length === 0">
            <ion-item>
              <ion-label style="text-align: center; opacity: 0.5;">No events available</ion-label>
            </ion-item>
          </div>
        </ion-list>

        <ion-list style="padding-left: 15px;" lines="inset">
          <h5>October</h5>
          <div *ngIf="oct.length > 0">
            <ion-item *ngFor="let d of oct">
              <div class="date">
                {{d.day}}
              </div>
              <div class="detail">
                <ion-label>{{d.content}} - {{d.year}}</ion-label>
              </div>

                <div (click)="updateClick(d)" *ngIf="obj"  class="edit">
                  <ion-icon class="icon" name="pencil"></ion-icon>
                </div>
                <div (click)="deleteClick(d)" *ngIf="obj" class="edit del">
                  <ion-icon class="icon" name="trash"></ion-icon>
                </div>


            </ion-item>
          </div>
          <div style="width: 100%;" *ngIf="oct.length === 0">
            <ion-item>
              <ion-label style="text-align: center; opacity: 0.5;">No events available</ion-label>
            </ion-item>
          </div>
        </ion-list>

        <ion-list style="padding-left: 15px;" lines="inset">
          <h5>November</h5>
          <div *ngIf="nov.length > 0">
            <ion-item *ngFor="let d of nov">
              <div class="date">
                {{d.day}}
              </div>
              <div class="detail">
                <ion-label>{{d.content}} - {{d.year}}</ion-label>
              </div>

                <div (click)="updateClick(d)" *ngIf="obj"  class="edit">
                  <ion-icon class="icon" name="pencil"></ion-icon>
                </div>
                <div (click)="deleteClick(d)" *ngIf="obj" class="edit del">
                  <ion-icon class="icon" name="trash"></ion-icon>
                </div>


            </ion-item>
          </div>
          <div style="width: 100%;" *ngIf="nov.length === 0">
            <ion-item>
              <ion-label style="text-align: center; opacity: 0.5;">No events available</ion-label>
            </ion-item>
          </div>
        </ion-list>

        <ion-list style="padding-left: 15px;" lines="inset">
          <h5>December</h5>
          <div *ngIf="dec.length > 0">
            <ion-item *ngFor="let d of dec">
              <div class="date">
                {{d.day}}
              </div>
              <div class="detail">
                <ion-label>{{d.content}} - {{d.year}}</ion-label>
              </div>

                <div (click)="updateClick(d)" *ngIf="obj"  class="edit">
                  <ion-icon class="icon" name="pencil"></ion-icon>
                </div>
                <div (click)="deleteClick(d)" *ngIf="obj" class="edit del">
                  <ion-icon class="icon" name="trash"></ion-icon>
                </div>


            </ion-item>
          </div>
          <div style="width: 100%;" *ngIf="dec.length === 0">
            <ion-item>
              <ion-label style="text-align: center; opacity: 0.5;">No events available</ion-label>
            </ion-item>
          </div>
        </ion-list>


      </ion-content>
    </ng-template>
  </ion-modal>

  <!-- ----------------EditMode*---------------- -->
  <ion-modal  backdropDismiss="false" mode="md" [isOpen]="isEditModalOpen">
    <ng-template>

        <ion-toolbar color="warning">
          <ion-title style="font-size: 14px">Update Event</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="seteditmodel(false)" >Close</ion-button>
          </ion-buttons>
        </ion-toolbar>

      <ion-content class=" modalBody">
        <form #addForm="ngForm" validate>
        <ion-item lines="full">
          <ion-label position="floating">திகதி</ion-label>
          <ion-input id="ddd" [(ngModel)]="editEvent.date" name="date" type="date" required></ion-input>
        </ion-item>

        <ion-item lines="full">
          <ion-label position="floating">இஸ்லாமிய திகதி</ion-label>
          <ion-input  [(ngModel)]="editEvent.isl" name="isl" type="text" ></ion-input>
        </ion-item>

        <ion-item lines="full">
          <ion-label position="floating">விபரம்</ion-label>
          <ion-textarea [(ngModel)]="editEvent.content"  [autoGrow]="true" name="content"required></ion-textarea>
        </ion-item>
        <div class="cont">
          <ion-button (click)="update()" color="success" type="submit" [disabled]="addForm.invalid" style="display: flex;"  class = "btn">Update</ion-button>
        </div>
      </form>

      </ion-content>
    </ng-template>
  </ion-modal>


  </ion-content>
