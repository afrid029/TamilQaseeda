<html class="addBody">

<div class="tool">
  <img class="img" alt="">
</div>



<ion-content>
  <div *ngIf="spinner" style="position:fixed;transform: scale(2); display: flex; width:100%; height:100%; justify-content: space-around; align-items: center; z-index:4;
  opacity: 0.7;">
    <ion-spinner name="lines-small" [paused]="false" color="warning"></ion-spinner>
   </div>
    <div class="bar primary">
      <ion-input style="font-style: italic; font-size: smaller;" class="search" [(ngModel)]="searchKey" (ionChange)="handleSearch()" placeholder="Search by topic"><ion-icon  name="search"></ion-icon></ion-input>
      <div class="close">
        <ion-icon [style.visibility]="vis" (click)="clearSearch()" name="close"></ion-icon>
      </div>

      <!-- <ion-refresher slot="fixed" (ionRefresh)="handleRefresh($event)">
        <ion-refresher-content></ion-refresher-content>
      </ion-refresher> -->

    </div>

    <ion-list class="lst">
      <div class="lstcont">

    <swiper [effect]="'coverflow'" [speed]="400" (swiper)="setSwiperInstance($event)">

      <!---------------------Aqeeda Slide------------------------>
        <ng-template *ngIf="aqAnyContent "  swiperSlide>

          <div class="head">

            <ion-text>அகீதா</ion-text>
            <ion-icon name="caret-forward-outline"></ion-icon>
          </div>

            <div *ngIf="obj" class="cont" id="cont">
              <div *ngFor = "let s of aqeeda">
                <ion-item >
                  <ion-label style="white-space: initial" (click)="promo(s)">{{s.title}}</ion-label>
                  <div (click)="EditEvidence(s)" class="edit">
                    <ion-icon class="icon" name="pencil"></ion-icon>
                  </div>
                  <div (click)="deleteEvidence(s)" class="edit del">
                    <ion-icon class="icon" name="trash"></ion-icon>
                  </div>

                </ion-item>
              </div>


            </div>

            <div *ngIf="!obj" class="cont" id="cont">
              <div *ngFor = "let s of aqeeda">
                <ion-item>
                  <ion-label style="white-space: initial" (click)="promo(s)">{{s.title}}</ion-label>
                </ion-item>
              </div>
            </div>
            <div style="width: 100%; height: 70%; position: fixed; display: flex; justify-content: space-around;align-items: center;" *ngIf = "aqeeda.length === 0" >

              <ion-chip style="width:95%;height: auto; background-color: rgba(107, 106, 106, 0.048);">
                <ion-label style="margin: 0 auto;"><ion-icon name="search-outline"></ion-icon>&nbsp; தேடல் கிடைக்கவில்லை.</ion-label>
              </ion-chip>

          </div>
        </ng-template>

        <ng-template *ngIf="!aqAnyContent"  swiperSlide>

          <div class="head">

            <ion-text>அகீதா</ion-text>
            <ion-icon name="caret-forward-outline"></ion-icon>
          </div>
            <div class="cont">
              <ion-chip style="width:95%;height: auto;top: 38%; background-color: rgba(107, 106, 106, 0.048);">
                <ion-label style="margin: 0 auto;" ><ion-icon name="search-outline"></ion-icon>&nbsp; &nbsp; விரைவில் இணைக்கப்படும்</ion-label>
              </ion-chip>
            </div>
        </ng-template>

 <!---------------------Fiqh Slide------------------------>
        <ng-template *ngIf="fiqhAnyContent "  swiperSlide>

          <div class="head">
            <ion-icon name="caret-back-outline"></ion-icon>
            <ion-text>பிஃக்ஹ்</ion-text>
            <ion-icon name="caret-forward-outline"></ion-icon>
          </div>

            <div  *ngIf="obj" class="cont" id="cont">
              <div *ngFor = "let s of fiqh">
                <ion-item >
                  <ion-label style="white-space: initial" (click)="promo(s)">{{s.title}}</ion-label>
                  <div (click)="EditEvidence(s)" class="edit">
                    <ion-icon class="icon" name="pencil"></ion-icon>
                  </div>
                  <div (click)="deleteEvidence(s)" class="edit del">
                    <ion-icon class="icon" name="trash"></ion-icon>
                  </div>
                </ion-item>
              </div>


            </div>

            <div *ngIf="!obj" class="cont" id="cont">
              <div *ngFor = "let s of fiqh">
                <ion-item>
                  <ion-label style="white-space: initial" (click)="promo(s)">{{s.title}}</ion-label>

                </ion-item>
              </div>
            </div>
            <div style="width: 100%; height: 70%; position: fixed; display: flex; justify-content: space-around;align-items: center;" *ngIf = "fiqh.length === 0" >

              <ion-chip style="width:95%;height: auto; background-color: rgba(107, 106, 106, 0.048);">
                <ion-label style="margin: 0 auto;"><ion-icon name="search-outline"></ion-icon>&nbsp; தேடல் கிடைக்கவில்லை.</ion-label>
              </ion-chip>

          </div>
        </ng-template>

        <ng-template *ngIf="!fiqhAnyContent"  swiperSlide>

          <div class="head">
            <ion-icon name="caret-back-outline"></ion-icon>
            <ion-text>பிஃக்ஹ்</ion-text>
            <ion-icon name="caret-forward-outline"></ion-icon>
          </div>
            <div class="cont">
              <ion-chip style="width:95%;height: auto;top: 38%; background-color: rgba(107, 106, 106, 0.048);">
                <ion-label style="margin: 0 auto;" ><ion-icon name="search-outline"></ion-icon>&nbsp; &nbsp; விரைவில் இணைக்கப்படும்</ion-label>
              </ion-chip>
            </div>
        </ng-template>

         <!---------------------Otheer Slide------------------------>
         <ng-template *ngIf="othAnyContent "  swiperSlide>

          <div class="head">
            <ion-icon name="caret-back-outline"></ion-icon>
            <ion-text>ஏனையவை</ion-text>
          </div>

            <div *ngIf="obj" class="cont" id="cont">
              <div *ngFor = "let s of other">
                <ion-item>
                  <ion-label style="white-space: initial" (click)="promo(s)">{{s.title}}</ion-label>
                  <div (click)="EditEvidence(s)" class="edit">
                    <ion-icon class="icon" name="pencil"></ion-icon>
                  </div >
                  <div (click)="deleteEvidence(s)" class="edit del">
                    <ion-icon class="icon" name="trash"></ion-icon>
                  </div>
                </ion-item>
              </div>


            </div>

            <div *ngIf="!obj" class="cont" id="cont">
              <div *ngFor = "let s of other">
                <ion-item>
                  <ion-label style="white-space: initial" (click)="promo(s)">{{s.title}}</ion-label>

                </ion-item>
              </div>
            </div>

            <div style="width: 100%; height: 70%; position: fixed; display: flex; justify-content: space-around;align-items: center;" *ngIf = "other.length === 0" >

              <ion-chip style="width:95%;height: auto; background-color: rgba(107, 106, 106, 0.048);">
                <ion-label style="margin: 0 auto;"><ion-icon name="search-outline"></ion-icon>&nbsp; தேடல் கிடைக்கவில்லை.</ion-label>
              </ion-chip>

          </div>
        </ng-template>

        <ng-template *ngIf="!othAnyContent"  swiperSlide>

          <div class="head">
            <ion-icon name="caret-back-outline"></ion-icon>
            <ion-text>ஏனையவை</ion-text>
          </div>
            <div class="cont">
              <ion-chip style="width:95%;height: auto;top: 38%; background-color: rgba(107, 106, 106, 0.048);">
                <ion-label style="margin: 0 auto;" ><ion-icon name="search-outline"></ion-icon>&nbsp; &nbsp; விரைவில் இணைக்கப்படும்</ion-label>
              </ion-chip>
            </div>
        </ng-template>

      </swiper>
    </div>
    </ion-list>

    <ion-modal  backdropDismiss="false" mode="md" [isOpen]="isModalOpen">
      <ng-template>

          <ion-toolbar color="success">
            <ion-title style="font-size:14px">{{currEvidence.title}}</ion-title>
            <ion-buttons slot="end">
              <ion-button (click)="setViewModel(false)">Close</ion-button>
            </ion-buttons>
          </ion-toolbar>

        <ion-content class="modalBody">
          <ion-card style = " background-color: #ecebeb;">
            <ion-card-content style="white-space: pre-line; text-align: justify; color: black;">{{currEvidence.content}}</
              ion-card-content>
          </ion-card>
        </ion-content>
      </ng-template>
    </ion-modal>


    <!-- Edit Model -->
    <ion-modal backdropDismiss="false" [isOpen]="isEditOpen">
      <ng-template>


          <ion-toolbar color="warning">
            <ion-title style="font-size:14px">{{editEvidence.title}}</ion-title>

            <ion-buttons slot="end">
              <ion-button (click)="setEditFalse()">Close</ion-button>
            </ion-buttons>
          </ion-toolbar>

        <ion-content class="ion-padding modalBody">
          <form  #addForm = "ngForm" validate>
            <ion-item lines="full">
              <ion-label position="floating">தலைப்பு</ion-label>
              <ion-input style = " color: black" [(ngModel)]="editEvidence.title"  name="title" type="text" required></ion-input>
            </ion-item>

            <ion-item lines="full">
              <ion-label position="floating">விபரம்</ion-label>
              <ion-textarea [(ngModel)]="editEvidence.content" style="max-height: 300px; overflow-y: true;  color: black;"  [autoGrow]="true" name="content"required></ion-textarea>
            </ion-item>

              <ion-item style = "background-color: rgb(211, 210, 210)">
                <ion-select style="color: black;"  [(ngModel)]="editEvidence.type"  name="type" interface="action-sheet" placeholder="பிரதான பிரிவு" required>
                  <ion-select-option style="color: black" value="aqeeda">அகீதா</ion-select-option>
                  <ion-select-option style="color: black" value="fikh">பிஃக்ஹ்</ion-select-option>
                  <ion-select-option style="color: black" value="other">ஏனையவை</ion-select-option>
                </ion-select>
              </ion-item>

            <div class="cont">
              <ion-button color="success" (click)="update()" style = "display: flex;"type="submit" [disabled]="addForm.invalid"  class = "btn">Update</ion-button>
            </div>
           </form>
        </ion-content>

      </ng-template>
    </ion-modal>

</ion-content>
</html>
