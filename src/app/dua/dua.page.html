<html class = "addBody">
  <div class="tool duatool">
    <img class="img" alt="">
  </div>
  <ion-content>
    @if (spinner) {
<div style="position:fixed;transform: scale(2); display: flex; width:100%; height:100%; justify-content: space-around; align-items: center; z-index:4;
    opacity: 0.7;">
        <ion-spinner name="lines-small" [paused]="false" color="warning"></ion-spinner>
      </div>
    }




    <ion-list class="lst lstdua">
      <div class="lstcont">
        <div class="cont">
          <ion-grid  class="grid">

            @if (!IsAsma) {
              <ion-row (click)="viewArticles('as')"  class="smallTile smallTileDua">
                <ion-col [ngClass]="opened ? 'hide smallrow' : 'show smallrow'"  size="12">
                  <img style="width: 5rem; height: 5rem;" src="../../assets/pictures/dua/asma.webp" alt="">
                  <div style="display: flex; flex-direction: column;">
                    m];khcy; `_];dh
                    <!-- <hr class="line"> -->
                  </div>
                </ion-col>
              </ion-row>
            }

            @if (IsAsma) {
              <ion-row class="bigTile bigTileDua">
                <!-- <ion-col  size="3">
                <img style="width: 5rem; height: 5rem;" src="../../assets/pictures/evidence/aqeeda.webp" alt="">
              </ion-col> -->
              <ion-col style="color: black"  size="12">
                <div (click) = "viewArticles('as')" style="display: flex; justify-content: center; margin-top: 1.5vh;">
                  <ion-icon name="albums" style="font-size: 4vw;"></ion-icon>
                </div>
                <div  class="qursi">
                  @for (itm of arabic; track itm; let i = $index) {
                    <ion-card class = "box">
                      <ion-card-header>
                        <ion-card-title>{{itm}}</ion-card-title>
                      </ion-card-header>
                      <h5>{{english[i]}}</h5>
                      <hr>
                        <h6> {{tamil[i]}}</h6>
                      </ion-card>
                    }
                  </div>
                </ion-col>
              </ion-row>
            }

            @if (!IsDua) {
              <ion-row (click)="viewArticles('dua')" class="smallTile smallTileDua">
                <ion-col  [ngClass]="opened ? 'hide smallrow' : 'show smallrow'"  size="12">
                  <img style="width: 5rem; height: 5rem;" src="../../assets/pictures/dua/dua.webp" alt="">
                  <div style="display: flex; flex-direction: column;">
                    md;whl JMf;fs;
                    <!-- <hr class="line"> -->
                  </div>
                </ion-col>
              </ion-row>
            }

            @if (IsDua) {
              <ion-row class="bigTile bigTileDua">
                <!-- <ion-col  size="3">
                <img style="width: 5rem; height: 5rem;" src="../../assets/pictures/evidence/aqeeda.webp" alt="">
              </ion-col> -->
              <ion-col style="color: black"  size="12">
                <div (click) = "viewArticles('dua')" style="display: flex; justify-content: center; margin-top: 1.5vh;">
                  <ion-icon name="albums" style="font-size:4vw"></ion-icon>
                </div>
                @if (duaAnyContent) {
                  <div class="content">
                    <div class="bar">
                      <ion-input style="font-style: italic; font-size: smaller;" class="search" [(ngModel)]="searchKey" (ionChange)="handleSearch('dua')" placeholder="Search by title"><ion-icon  name="search"></ion-icon></ion-input>
                      <ion-button fill="clear" color="dark" [disabled]="vis"  (click)="clearSearch()">Clear</ion-button>
                    </div>
                    @if (obj) {
                      <div  >
                        @for (s of dua; track s) {
                          <div>
                            <ion-item >
                              <ion-label style="white-space: initial" (click)="promo(s)">{{s.title}}</ion-label>
                              <div (click)="editDetail(s)" class="edit">
                                <ion-icon class="icon" name="pencil"></ion-icon>
                              </div>
                              <div (click)="deleteAwrath(s)" class="edit del">
                                <ion-icon class="icon" name="trash"></ion-icon>
                              </div>
                            </ion-item>
                          </div>
                        }
                      </div>
                    }
                    @if (!obj) {
                      <div >
                        @for (s of dua; track s) {
                          <div>
                            <ion-item>
                              <ion-label style="white-space: initial" (click)="promo(s)">{{s.title}}</ion-label>
                            </ion-item>
                          </div>
                        }
                      </div>
                    }
                    @if (dua.length === 0) {
                      <div style="display: flex; justify-content: space-around;align-items: center;" >
                        <ion-chip style="width:95%;height: auto; background-color: rgba(107, 106, 106, 0.048);">
                          <ion-label style="margin: 0 auto;"><ion-icon name="search-outline"></ion-icon>&nbsp; தேடல் கிடைக்கவில்லை.</ion-label>
                        </ion-chip>
                      </div>
                    }
                  </div>
                }
                @if (!duaAnyContent) {
                  <div >
                    <ion-chip>
                      <ion-label style="margin: 0 auto;" ><ion-icon name="search-outline"></ion-icon>&nbsp; &nbsp; விரைவில் இணைக்கப்படும்</ion-label>
                    </ion-chip>
                  </div>
                }
              </ion-col>
            </ion-row>
          }

          @if (!IsSalawat) {
            <ion-row (click)="viewArticles('salawat')" class="smallTile smallTileDua">
              <ion-col  [ngClass]="opened ? 'hide smallrow' : 'show smallrow'"  size="12">
                <img style="width: 5rem; height: 5rem;" src="../../assets/pictures/dua/salawat.webp" alt="">
                <div style="display: flex; flex-direction: column;">
                  Kj;jhd ]ythj;Jf;fs;
                  <!-- <hr class="line"> -->
                </div>
              </ion-col>
            </ion-row>
          }

          @if (IsSalawat) {
            <ion-row class="bigTile bigTileDua">
              <!-- <ion-col  size="3">
              <img style="width: 5rem; height: 5rem;" src="../../assets/pictures/evidence/aqeeda.webp" alt="">
            </ion-col> -->
            <ion-col style="color: black"  size="12">
              <div (click) = "viewArticles('salawat')" style="display: flex; justify-content: center; margin-top: 1.5vh">
                <ion-icon name="albums" style="font-size: 4vw;"></ion-icon>
              </div>
              @if (salAnyContent) {
                <div class="content">
                  <div class="bar">
                    <ion-input style="font-style: italic; font-size: smaller;" class="search" [(ngModel)]="searchKey" (ionChange)="handleSearch('salawat')" placeholder="Search by title"><ion-icon  name="search"></ion-icon></ion-input>
                    <ion-button fill="clear" color="dark" [disabled]="vis" (click)="clearSearch()">Clear</ion-button>
                  </div>
                  @if (obj) {
                    <div >
                      @for (s of salawat; track s) {
                        <div>
                          <ion-item>
                            <ion-label style="white-space: initial" (click)="promo(s)">{{s.title}}</ion-label>
                            <div (click)="editDetail(s)" class="edit">
                              <ion-icon class="icon" name="pencil"></ion-icon>
                            </div >
                            <div (click)="deleteAwrath(s)" class="edit del">
                              <ion-icon class="icon" name="trash"></ion-icon>
                            </div>
                          </ion-item>
                        </div>
                      }
                    </div>
                  }
                  @if (!obj) {
                    <div>
                      @for (s of salawat; track s) {
                        <div>
                          <ion-item>
                            <ion-label style="white-space: initial" (click)="promo(s)">{{s.title}}</ion-label>
                          </ion-item>
                        </div>
                      }
                    </div>
                  }
                  @if (salawat.length === 0) {
                    <div style="display: flex; justify-content: space-around;align-items: center;" >
                      <ion-chip style="width:95%;height: auto; background-color: rgba(107, 106, 106, 0.048);">
                        <ion-label style="margin: 0 auto;"><ion-icon name="search-outline"></ion-icon>&nbsp; தேடல் கிடைக்கவில்லை.</ion-label>
                      </ion-chip>
                    </div>
                  }
                </div>
              }
              @if (!salAnyContent) {
                <div>
                  <ion-chip >
                    <ion-label style="margin: 0 auto;" ><ion-icon name="search-outline"></ion-icon>&nbsp; &nbsp; விரைவில் இணைக்கப்படும்</ion-label>
                  </ion-chip>
                </div>
              }
            </ion-col>
          </ion-row>
        }

      </ion-grid>
    </div>
  </div>
</ion-list>

<ion-modal  backdropDismiss="false" mode="md" [isOpen]="isModalOpen">
  <ng-template>

    <ion-toolbar color="success">
      <ion-title style="font-size:14px">{{currAwraath.title}}</ion-title>
      <ion-buttons slot="end">
        <ion-button (click)="setViewModel(false)">Close</ion-button>
      </ion-buttons>
    </ion-toolbar>

    <ion-content class="modalBody">
      <ion-card style="white-space: pre-line; height: 98%; max-height: 98%; position: relative; padding-top: 10px; background-color: white;">
        <ion-card-content style="white-space: pre-line; height: 100%; max-height: 100%; overflow-y: scroll;">

          <ion-item style="border-radius: 10px; background-color: rgb(243, 243, 243);">
            <p class="detail">{{currAwraath.content}}</p>

          </ion-item>
          <br>
            @if (currAwraath.meaning) {
              <div>
                <ion-label  style=" color: rgb(177, 55, 55); font-size: 11px; font-weight: 800;">பொருள் : </ion-label>
                <ion-item style="border-radius: 10px; background-color: rgb(226, 225, 225);">
                  <p style="text-align: justify; font-size: 13px; width: 100%; font-weight: 500; opacity: 0.6; padding-top: 12px; padding-bottom: 12px;">{{currAwraath.meaning}}</p>
                </ion-item>
              </div>
            }

            <br>
              @if (currAwraath.benifit) {
                <div>
                  <ion-label  style=" color: rgb(177, 55, 55); font-weight:800; font-size: 11px; opacity: 1 !important;">பலன் : </ion-label>
                  <ion-item style="border-radius: 10px; background-color: rgb(226, 225, 225)" >
                    <p style="text-align: justify; font-size: 13px; width: 100%; opacity: 0.6; padding-top: 12px; padding-bottom: 12px;"><i>{{currAwraath.benifit}}</i></p>
                  </ion-item>
                </div>
              }

            </ion-card-content>
          </ion-card>
        </ion-content>
      </ng-template>
    </ion-modal>


    <!-- Edit Model -->
    <ion-modal backdropDismiss="false" [isOpen]="isEditOpen">
      <ng-template>


        <ion-toolbar color="warning">
          <ion-title style="font-size:14px">{{editAwraath.title}}</ion-title>

          <ion-buttons slot="end">
            <ion-button (click)="setEditModel(false)">Close</ion-button>
          </ion-buttons>
        </ion-toolbar>

        <ion-content class="ion-padding modalBody">
          <form  #addForm = "ngForm" validate>

            <ion-item lines="full">
              <ion-label position="floating">தலைப்பு</ion-label>
              <ion-input  style="color: black"[(ngModel)]="editAwraath.title" name="title" type="text" required></ion-input>
            </ion-item>

            <ion-item lines="full">
              <ion-label position="floating">துஆ / ஸலவாத்து</ion-label>
              <ion-textarea style="color: black" [(ngModel)]="editAwraath.content" class="textarea"  [autoGrow]="true" name="content" required></ion-textarea>
            </ion-item>

            <ion-item lines="full">
              <ion-label position="floating">பொருள்</ion-label>
              <ion-textarea style="color: black" [(ngModel)]="editAwraath.meaning" class="textarea"  [autoGrow]="true" name="meaning"></ion-textarea>
            </ion-item>

            <ion-item lines="full">
              <ion-label position="floating">பலன்கள்</ion-label>
              <ion-textarea  class="textarea" [(ngModel)]="editAwraath.benifit" style="max-height: 300px; overflow-y: true; color: black;"  [autoGrow]="true" name="benifit"></ion-textarea>
            </ion-item>

            <ion-item lines="full">
              <ion-label style="color: black" position="floating">Choose One</ion-label>
              <ion-select style="color: black" [(ngModel)]="editAwraath.type" name="type" inerface="action-sheet" placeholder="Choose One" required>
                <ion-select-option value="dua">துஆ</ion-select-option>
                <ion-select-option value="salawat">ஸலவாத்து</ion-select-option>


              </ion-select>


            </ion-item>

            <div class="cont">
              <ion-button (click)="update()" color="secondary" style = "display: flex;"type="submit" [disabled]="addForm.invalid "  class = "btn">Update</ion-button>
            </div>
          </form>
        </ion-content>

      </ng-template>
    </ion-modal>
  </ion-content>

</html>
